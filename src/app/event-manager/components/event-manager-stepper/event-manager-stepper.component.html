<mat-accordion>
  <agari-event-manager-step>
    <ng-template #header>Configuration</ng-template>
    <ng-template #content>
      <agari-event-configuration-step (next)="nextStep()"></agari-event-configuration-step>
    </ng-template>
  </agari-event-manager-step>
  <agari-event-manager-step [disabled]="!(configFinalized$ | async)">
    <ng-template #header>Registration</ng-template>
    <ng-template #content>
      <agari-event-registration-step
        (previous)="previousStep()"
        (next)="nextStep()"
      ></agari-event-registration-step>
    </ng-template>
  </agari-event-manager-step>
  <ng-container *ngIf="results$ | async as results">
    <ng-container *ngFor="let round of results.entries(); trackBy: trackStepBy">
      <agari-event-manager-step
        [disabled]="!(registrationFinalized$ | async) || results[round[0] - 1]?.finalized === false"
      >
        <ng-template #header>Round {{ round[0] | asOrdinal }}</ng-template>
        <ng-template #content>
          <agari-event-scoring-step [index]="round[0]"></agari-event-scoring-step>
        </ng-template>
      </agari-event-manager-step>
    </ng-container>
  </ng-container>
</mat-accordion>
